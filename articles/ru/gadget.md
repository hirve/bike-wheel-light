Декоративный велогаджет - светящийся спидометр.

>_Статья была написана для форума Харьков-Турист, к которому испытываю очень теплые чувства. А сам гаджет менялся и многие технические детали этой статьи уже неактуальны, гаджет больше не показывает скорость, а просто выводит текст или узоры. Пользуюсь им до сих пор, похоже, удачный вышел проект._

Второй месяц пошёл с того момента, когда мы праздновали Новый Год. Все ёлки давным давно сгорели в топках. А тяга к украшательству осталась. По крайней мере, у wolfio, которого мясом не корми - дай что-нибудь украсить.

Экспериментировал на днях с микроконтроллерами. Кто не знает - это микрочип такой, который представляет собой, по сути, небольшой компьютер, в нём имеется процессор, память и некоторая периферия. От простого компьютера отличается очень маленькой мощностью. Но для некоторых задач этой маленькой мощности оказывается более, чем достаточно.

Перелопачивая инет в поисках инфы, наткнулся на множество интересных поделок на микроконтроллере. В частности, так называемые "часы - пропеллер", которые меня и вдохновили на создание этой штуковины. Там использовались моторчики, которые раскручивали линейку светодиодов, что давало эффект круглого светящегося экрана. Применив этот принцип к велосипедному колесу можно значительно упростить конструкцию, поскольку никакого моторчика нам не нужно. А чтобы этот гаджет был полезным, заставим его показывать, к примеру, скорость велосипеда.

Как я понял позднее, самой простой частью работы оказалась сборка девайса. Из фольгированного стеклотекстолита вырезается миниатюрная макетная плата. Детали копеечные, и не много: самый дешёвый контроллер AVR, восемь зелёных SMD светодиодов, один геркон для синхронизации и один блокировочный конденсатор. Общая стоимость деталей - гривен 20. Время сборки - часа два. Правда ещё полдня ушло на обдумывание. Вместо схемы - фотография, по которой виден принцип работы устройства.

Предвижу вопрос искушённого читателя: "Какого ты, голубчик, не включаешь светодиоды через резисторы? Ведь они же спалят тебе микросхему!"
Ответ: Во-первых я хотел добиться максимальной яркости в импульсе, от щуплой трёхвольтовой батарейки, которой место, разве что в электронных часах. Во-вторых, интересно было посмотреть, как поведёт себя AVR-ка в таком режиме, насколько быстро отбросит копыта. Пока не отбросила.

Или ещё один: "Кому вообще нужен такой спидометр, который будет виден только со стороны и в темноте?"
Ответ: Гаишникам, зевакам, детям, и просто покрасоваццо.

Далее началась долгая рутинная работа. Программирование. Без него контроллер - пустая железка. Но программеру, у которого не один год опыта за плечами, не привыкать к такой работе. Для него, что освоить гуглёво апи, что атмеловский макроассемблер - вещи одного порядка. После двух вечеров кодинга моя макетная плата научилась выдавать цифры, значки и даже некоторые буквы, которые я считаю наиболее важными в алфивите, такие как "Ё", "Ы", "Ъ". Это был день святого Валентина, поэтому добавил к знакам ещё и сердечко.

Однако, применительно к нашей задаче, все эти буквы и значки - лишь ненужная трата энергии. Ещё один вечер потребовался на то, чтобы добиться от гаджета вывода всего двух цифр - скорости передвижения велосипеда.

То, что получилось в результате, видно на фотографиях. Пока батарейка не села, табло выдавало настолько яркий импульс, что освещало всю комнату. Остаётся проверить устройство в действии, то есть, на улице.

Скорость была откалибрована на участке 10 - 30 км/ч. Если меньше 9 км/ч табло не светится, если больше 100, отлетает с завидным свистом вместе с колёсами. Ну и конечно, показания будут плавать, в зависимости от температуры окружающей среды, поскольку тактовая частота камня ничем не стабилизируется. Насколько - покажут испытания.
